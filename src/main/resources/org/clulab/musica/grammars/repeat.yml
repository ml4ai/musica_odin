
vars: org/clulab/musica/grammars/triggers.yml


rules:

  - name: repeat-1
    label: ${label}
    priority: ${rulepriority}
    example: "Repeat everything in the first measure"
    type: token
    pattern: |
      (?<trigger>[word=/^${repeat_triggers}/]) ((@note:Note|@everything:Everything) []? @onset:Onset)|@measure:Measure)

  - name: repeat-2-passive
    label: ${label}
    priority: ${rulepriority}
    example: "Everything in the first measure should be repeated"
    type: token
    pattern: |
      ((@note:Note|@everything:Everything) []? @onset:Onset)|@measure:Measure) (should)? [word=/^${aux_be}/]
      (?<trigger>[word=/^${repeat_triggers}/]) (@locationabs:Locationabs (@measure:Measure)?)?